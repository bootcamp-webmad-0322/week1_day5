<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>


    <script>

        class User {
            constructor(nameValue, lastNameValue, emailValue, bankAccountValue) {
                this.name = nameValue
                this.lastName = lastNameValue
                this.email = emailValue
                this.bankAccount = bankAccountValue
            }

            getFullName() {
                return `${this.name} ${this.lastName}`
            }

            changeBankAccount(newAccount) {
                this.bankAccount = newAccount
            }
        }

        const user1 = new User('German', 'Alvarez', 'germantastic@yahoo.es', 'ES98-6475-4045-1627')

        const fullName = user1.getFullName()
        console.log(`Me llamo ${fullName}`)

        user1.changeBankAccount('ES98-6475-4045-1624')
        console.log(`Ahora mi cuenta es ${user1.bankAccount}`)

        console.log('-------')




        class Player extends User {

            constructor(nameValue, lastNameValue, emailValue, bankAccountValue, nickValue, tokensValue, livesValue) {

                super(nameValue, lastNameValue, emailValue, bankAccountValue)

                this.nick = nickValue
                this.tokens = tokensValue
                this.lives = livesValue
            }

            buyTokens(quantity) {
                this.tokens += quantity
            }

            looseLives(livesLost) {
                this.lives -= livesLost
            }

            buyLives(livesToBuy) {
                const cost = livesToBuy * 20
                if (this.tokens >= cost) {
                    this.tokens -= cost
                    this.lives += livesToBuy
                } else {
                    console.error(`Tienes ${this.tokens} tokens y necesitas ${cost} para comprar ${livesToBuy} vidas`)
                }
            }
        }


        const player1 = new Player('Ana', 'de Ordanza', 'jj@yay.es', 'ES89-5645-6434', 'Anita92', 100, 5)

        console.log(`El jugador ${player1.nick} que en realidad se llama ${player1.name} (${player1.email}) tiene ${player1.lives} vidas`)
        player1.buyLives(10)        // ops!
        player1.buyTokens(500)
        player1.buyLives(10)
        console.log(`El jugador ${player1.nick} tiene ${player1.lives} vidas`)



        console.log('-------')

        class Witch extends Player {

            constructor(nameValue, lastNameValue, emailValue, bankAccountValue, nickValue, tokensValue, livesValue, spellName) {

                super(nameValue, lastNameValue, emailValue, bankAccountValue, nickValue, tokensValue, livesValue)
                this.spell = spellName
            }

            makeSpell() {
                console.warn(`La bruja ${this.nick} te ha echado un conjuro ${this.spell}... ¡OH, NO!`)
            }
        }

        const witch1 = new Witch('Charini', 'López', 'hshs@msn.es', 'ES98-45676-3456', 'Piruja', 100, 20, 'Abracadabra')

        console.log(`La bruja ${witch1.nick} (que en realidad se llama ${witch1.name}) tiene ${witch1.tokens} tokens`)
        witch1.makeSpell()




        console.log('-------')

        class Gnome extends Player {

            constructor(nameValue, lastNameValue, emailValue, bankAccountValue, nickValue, tokensValue, livesValue, shoutValue) {

                super(nameValue, lastNameValue, emailValue, bankAccountValue, nickValue, tokensValue, livesValue)
                this.shout = shoutValue
            }

            attack() {
                console.error(`El gnomo ${this.nick} te ha escupido al grito de ${this.shout}... ¡QUÉ GUARRO!`)
            }
        }


        const gnome1 = new Gnome('Ivane', 'Arias', 'hshs@msn.es', 'ES98-8495-3456', 'Grifford', 100, 20, 'MERLUZO')

        gnome1.attack()





    </script>
</body>

</html>